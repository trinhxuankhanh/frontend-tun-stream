(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{110:function(e,t){e.exports={server:{secret:"kjVkuti2xAyF3JGCzSZTk0YWM5JhI9mgQW4rytXc",port:7e3},rtmp_server:{rtmp:{port:1935,chunk_size:6e4,gop_cache:!0,ping:60,ping_timeout:30},http:{port:8888,mediaroot:"server/media",allow_origin:"*"},trans:{ffmpeg:"/usr/bin/ffmpeg",tasks:[{app:"live",hls:!0,hlsFlags:"[hls_time=2:hls_list_size=3:hls_flags=delete_segments]",dash:!0,dashFlags:"[f=dash:window_size=3:extra_window_size=5]"}]}}}},146:function(e,t,c){},147:function(e,t,c){},152:function(e,t,c){},153:function(e,t,c){},154:function(e,t,c){},155:function(e,t,c){},156:function(e,t,c){},164:function(e,t,c){},165:function(e,t,c){},166:function(e,t,c){},180:function(e,t,c){},181:function(e,t,c){},182:function(e,t,c){},184:function(e,t,c){},185:function(e,t){},209:function(e,t,c){},210:function(e,t,c){},211:function(e,t,c){},212:function(e,t,c){},213:function(e,t,c){},236:function(e,t,c){},237:function(e,t,c){"use strict";c.r(t);var n=c(1),s=c(0),a=c.n(s),i=c(30),r=c.n(i),o=(c(124),c(125),c(126),c(118)),l=c(12),j=c(14),u=c(8),b=c(60),m=c.n(b),d=c(98),h=c(46),O=c.n(h),f=O.a.create({baseURL:"http://localhost:7000/"});f.interceptors.request.use(function(){var e=Object(d.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),f.interceptors.response.use((function(e){return e&&e.data?e.data:e}),(function(e){throw e}));var x=f,g={getGame:function(e){if(e!=={}){return x.post("/games",e)}}},p=(c(146),function(e){var t=e.icon,c=e.content,s=e.click,a=e.value;return Object(n.jsxs)("button",{onClick:function(){return s(a)},className:"btn",children:[t&&Object(n.jsx)("img",{src:t,alt:"icon",className:"btn__img"}),Object(n.jsx)("p",{className:"btn__title",children:c})]})}),v=(c(147),function(e){var t=e.img,c=e.name,s=e.id;return Object(n.jsxs)(l.b,{to:"".concat(s),className:"cardgames m-auto",children:[Object(n.jsx)("img",{className:"cardgames__img",src:t,alt:"game"}),Object(n.jsx)("p",{className:"cardgames__name m-2",children:c})]})}),N=(c(152),c.p+"static/media/facebook.3f7115f9.svg"),_=c.p+"static/media/youtube.2530438c.svg",y=c.p+"static/media/twitter.b80161ac.svg",k=c.p+"static/media/instagram.02967a62.svg",w=function(){return Object(n.jsxs)("footer",{className:"footer",children:[Object(n.jsxs)("ul",{className:"socialnetwork",children:[Object(n.jsx)("li",{children:Object(n.jsx)("a",{href:"https://www.facebook.com/xuan.khanh.5203/",children:Object(n.jsx)("img",{src:N,alt:"icon"})})}),Object(n.jsx)("li",{children:Object(n.jsx)("a",{href:"https://www.youtube.com/channel/UC3-G1mLiuC_mYKRypkQafTQ",children:Object(n.jsx)("img",{src:_,alt:"icon"})})}),Object(n.jsx)("li",{children:Object(n.jsx)("a",{href:"https://www.instagram.com/xuaankhanhs/",children:Object(n.jsx)("img",{src:k,alt:"icon"})})}),Object(n.jsx)("li",{children:Object(n.jsx)("a",{href:"https://twitter.com/lolesports",children:Object(n.jsx)("img",{src:y,alt:"icon"})})})]}),Object(n.jsxs)("ul",{className:"aboutus",children:[Object(n.jsx)("li",{children:Object(n.jsx)(l.b,{to:"#aboutus",children:"V\u1ec1 ch\xfang t\xf4i"})}),Object(n.jsx)("li",{children:Object(n.jsx)(l.b,{to:"#contact",children:"Li\xean l\u1ea1c v\u1edbi ch\xfang t\xf4i"})}),Object(n.jsx)("li",{children:Object(n.jsx)(l.b,{to:"#book",children:"Ch\xednh s\xe1ch quy\u1ec1n ri\xeang t\u01b0"})}),Object(n.jsx)("li",{children:Object(n.jsx)(l.b,{to:"#asd",children:"Th\u1ecfa thu\u1eadn"})}),Object(n.jsx)("li",{children:Object(n.jsx)(l.b,{to:"#down",children:"T\u1ea3i v\u1ec1"})})]}),Object(n.jsxs)("p",{className:"aboutme",children:["Registered \xae 2021-2022 By"," ",Object(n.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://trinhxuankhanh.github.io/cv/",children:"Tun"})]})]})},C=c(241),S=c(242),L=c(243),F=c(244),G=c.p+"static/media/television.bf49d6b4.svg",B=(c(153),function(e){var t=e.component;return Object(n.jsxs)(l.b,{to:t||"/",className:"logo",children:[Object(n.jsx)("img",{className:"logo__img",src:G,alt:"icon"}),Object(n.jsx)("h1",{className:"logo__name",children:"Tun's stream"})]})}),E=c(239),T=c(240),P=c.p+"static/media/diamond.651db4ac.svg",U=Object(s.createContext)(),I=function(e){var t=e.children,c=Object(s.useState)(null),a=Object(u.a)(c,2),i={auth:[a[0],a[1]]};return Object(n.jsx)(U.Provider,{value:i,children:t})},M=(c(154),function(e){var t=e.icon,c=e.content,s=e.component;return Object(n.jsxs)(l.b,{to:s,className:"btn",children:[t&&Object(n.jsx)("img",{src:t,alt:"icon",className:"btn__img"}),Object(n.jsx)("p",{className:"btn__title",children:c})]})}),J=(c(155),c.p+"static/media/search.637db432.svg"),A=function(e){var t=e.id,c=e.name,s=e.show,a=e.items;return Object(n.jsxs)("li",{children:[Object(n.jsx)(l.b,{onClick:function(){s.current.value="",a([])},to:"/game/".concat(t),children:c})," "]})},V=function(){var e=Object(s.useRef)(null),t=Object(s.useState)([]),c=Object(u.a)(t,2),a=c[0],i=c[1],r=Object(s.useState)([]),o=Object(u.a)(r,2),l=o[0],j=o[1];return Object(s.useEffect)((function(){g.getGame({type:""}).then((function(e){return i(e.map((function(e){return{id:e._id,name:e.name.toLowerCase()}})))})).catch((function(e){return console.log(e)}))}),[]),Object(n.jsxs)("form",{onSubmit:function(e){e.preventDefault()},className:"search",autocomplete:"off",children:[Object(n.jsx)("label",{htmlFor:"search",children:Object(n.jsx)("img",{className:"search__img",src:J,alt:"icon"})}),Object(n.jsx)("input",{className:"search__item",autocomplete:"off",maxLength:"40",id:"search",type:"search",placeholder:"Name game ...",ref:e,onKeyUp:function(){var t=a.filter((function(t){return t.name.includes(e.current.value.toLowerCase())}));j(t),""===e.current.value.toLowerCase()&&j([])}}),l.length>0&&Object(n.jsx)("ul",{className:"search__suggests",children:l.map((function(t){return Object(n.jsx)(A,{show:e,items:j,name:t.name,id:t.id})}))})]})},z=(c(156),function(){var e=Object(s.useContext)(U),t=Object(u.a)(e.auth,2),c=t[0],a=t[1];Object(s.useEffect)((function(){null===c&&a(JSON.parse(localStorage.getItem("user")))}),[c,a]);return Object(n.jsxs)(E.a,{className:"menuheader",navbar:!0,children:[Object(n.jsxs)(T.a,{children:[Object(n.jsx)(l.b,{to:"/live/",children:"Ph\xe1t tr\u1ef1c ti\u1ebfp"}),Object(n.jsx)(l.b,{to:"/game/",children:"Ph\xe2n lo\u1ea1i"})]}),Object(n.jsx)(T.a,{children:Object(n.jsx)(V,{})}),Object(n.jsxs)(T.a,{className:"row",children:[Object(n.jsx)(M,{content:"N\u1ea1p",icon:P}),!c&&Object(n.jsxs)(s.Fragment,{children:[Object(n.jsx)(M,{content:"\u0110\u0103ng nh\u1eadp",component:"/login"}),Object(n.jsx)(M,{content:"\u0110\u0103ng k\xed",component:"/register"})]}),c&&Object(n.jsxs)(s.Fragment,{children:[Object(n.jsx)(M,{content:c.username,component:"/user/".concat(c._id)}),Object(n.jsx)(p,{content:"\u0110\u0103ng xu\u1ea5t",click:function(){a(null),localStorage.removeItem("user"),window.location.href="/"}})]})]})]})}),D=function(){var e=Object(s.useState)(!1),t=Object(u.a)(e,2),c=t[0],a=t[1];return Object(n.jsx)("div",{children:Object(n.jsxs)(C.a,{color:"dark",light:!0,expand:"lg",children:[Object(n.jsx)(S.a,{href:"/",children:Object(n.jsx)(B,{})}),Object(n.jsx)(L.a,{onClick:function(){return a(!c)}}),Object(n.jsx)(F.a,{isOpen:c,navbar:!0,children:Object(n.jsx)(z,{})})]})})},H=(c(164),function(){var e=Object(s.useState)([]),t=Object(u.a)(e,2),c=t[0],i=t[1],r=Object(s.useState)(""),o=Object(u.a)(r,2),l=o[0],j=o[1];return Object(s.useEffect)((function(){g.getGame({type:l}).then((function(e){i(e)})).catch((function(e){return console.log(e)}))}),[l]),Object(n.jsxs)(a.a.Fragment,{children:[Object(n.jsx)(D,{}),Object(n.jsx)("div",{className:"game pt-3 container-fluid",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-12 p-4 m-0",children:Object(n.jsx)("h2",{className:"text",children:"Danh s\xe1ch tr\xf2 ch\u01a1i"})}),Object(n.jsxs)("div",{className:"col-12 d-flex flex-row m-0 p-4",children:[Object(n.jsx)(p,{content:"To\xe0n b\u1ed9",click:j,value:""}),Object(n.jsx)(p,{content:"Moblie Game",click:j,value:"moblie"}),Object(n.jsx)(p,{content:"PC Game",click:j,value:"pc"})]}),c.length>0&&c.map((function(e){return Object(n.jsx)("div",{className:"col-6 col-md-4 col-lg-3 col-xl-2",children:Object(n.jsx)(v,{name:e.name,id:e._id,img:e.img},e._id)})}))]})}),Object(n.jsx)(w,{})]})}),R={get:function(e){if(e!=={}){var t="/game/".concat(e);return x.get(t)}}},K=c.p+"static/media/viewers.0fdbaca2.svg",q=(c(165),{get:function(e){if(e!=={}){var t="/lives/".concat(e);return x.get(t)}}}),Q={post:function(e){if(""!==e){var t="/upviewer/".concat(e);return x.post(t)}}},X=(c(166),function(e){var t=e.title,c=e.viewer,s=e.user,a=e.stream_key,i=e.thumbnail,r=s.avt,o=s.username;return Object(n.jsxs)("div",{className:"cardstream m-auto",onClick:function(){Q.post(a)},children:[Object(n.jsxs)(l.b,{to:"/stream/".concat(a),className:"cardstream__top",children:[Object(n.jsx)("img",{src:i,alt:"intro"}),Object(n.jsx)(M,{content:"PC Game"})]}),Object(n.jsxs)("div",{className:"cardstream__bottom",children:[Object(n.jsx)(l.b,{to:"#asdasdasd",className:"cardstream__bottomleft",children:Object(n.jsx)("img",{src:r,alt:"user"})}),Object(n.jsxs)("div",{className:"cardstream__bottomright",children:[Object(n.jsx)(l.b,{to:"/stream",children:Object(n.jsx)("h3",{children:t})}),Object(n.jsx)(l.b,{to:"#sasdasdsad",children:Object(n.jsx)("p",{children:o})}),Object(n.jsxs)("div",{className:"viewer",children:[Object(n.jsx)("img",{src:K,alt:"icon"}),Object(n.jsx)("span",{children:c})]})]})]})]})}),W=function(){var e=Object(j.f)().id,t=Object(s.useState)({}),c=Object(u.a)(t,2),a=c[0],i=c[1],r=Object(s.useState)([]),o=Object(u.a)(r,2),l=o[0],b=o[1];return Object(s.useEffect)((function(){R.get(e).then((function(e){i(e)})).catch((function(e){console.log(e)}))}),[e]),Object(s.useEffect)((function(){q.get(e).then((function(e){b(e)})).catch((function(e){console.log(e)}))}),[e]),Object(n.jsxs)(s.Fragment,{children:[Object(n.jsx)(D,{}),Object(n.jsx)("div",{className:"container-fluid",children:Object(n.jsxs)("div",{className:"row game pt-5",children:[Object(n.jsx)("div",{className:"col-12 col-md-12 col-lg-4",children:Object(n.jsx)("div",{className:"game__img",children:Object(n.jsx)("img",{src:a.img,alt:"img"})})}),Object(n.jsx)("div",{className:"col-12 col-md-12 col-lg-8",children:Object(n.jsxs)("div",{className:"game__title",children:[Object(n.jsx)("h4",{children:a.name}),Object(n.jsx)("p",{children:a.description}),Object(n.jsxs)("span",{children:[Object(n.jsx)("img",{src:K,alt:"icon"})," ",l.length," Tr\u1ef1c ti\u1ebfp"]})]})})]})}),Object(n.jsx)("div",{className:"container-fluid",children:Object(n.jsx)("div",{className:"row game pt-5",children:l.length>0&&l.map((function(e){return Object(n.jsx)("div",{className:"col-12 col-md-6 col-lg-4 col-xl-3",children:Object(n.jsx)(X,{title:e.title,viewer:e.viewer,user:e.id_user,stream_key:e.stream_key,thumbnail:e.thumbnail})})}))})}),Object(n.jsx)(w,{})]})},Y=c.p+"static/media/headerhome.7c39ceb3.svg",Z=c.p+"static/media/next.2dc7a76f.svg",$=c(100),ee=c.n($),te=(c(179),c(180),function(e){var t=e.name,c=e.img,s=e.id;return Object(n.jsxs)("div",{className:"colcustom",children:[Object(n.jsx)(l.b,{to:"/game/".concat(s),className:"cardgame",children:Object(n.jsx)("span",{children:Object(n.jsx)("img",{src:c,alt:"Nimo TV",className:"cardgame__img"})})}),Object(n.jsx)(l.b,{to:"/game/".concat(s),className:"cardgame__title",children:Object(n.jsx)("h3",{children:t})})]})}),ce={desktop:{breakpoint:{max:3e3,min:1024},items:3,paritialVisibilityGutter:60},tablet:{breakpoint:{max:1024,min:464},items:2,paritialVisibilityGutter:50},mobile:{breakpoint:{max:464,min:0},items:1,paritialVisibilityGutter:30}},ne=function(){var e=Object(s.useState)([]),t=Object(u.a)(e,2),c=t[0],a=t[1];return Object(s.useEffect)((function(){g.getGame({type:""}).then((function(e){a(e)})).catch((function(e){return console.log(e)}))}),[]),Object(s.useEffect)((function(){var e=document.getElementsByClassName("react-multi-carousel-track"),t=setTimeout((function(){Array.from(e[0].childNodes).map((function(e){return e.attributes[3].value="flex: 1 1 auto; position: relative; width: 450px;",e}))}),700);return function(){clearTimeout(t)}})),Object(n.jsx)(ee.a,{ssr:!0,itemClass:"image-item",containerClass:"carousel-container",responsive:ce,removeArrowOnDeviceType:["tablet","mobile"],children:c.map((function(e){return Object(n.jsx)(te,{id:e._id,img:e.img,name:e.name},e._id)}))})},se=(c(181),function(){var e=Object(s.useState)([]),t=Object(u.a)(e,2),c=t[0],a=t[1],i=Object(s.useState)([]),r=Object(u.a)(i,2),o=r[0],j=r[1];return Object(s.useEffect)((function(){q.get("602e1eeeb712f341b73cb891").then((function(e){a(e)})).catch((function(e){return console.log(e)}))}),[]),Object(s.useEffect)((function(){q.get("602e1eeeb712f341b73cb88e").then((function(e){j(e)})).catch((function(e){return console.log(e)}))}),[]),Object(n.jsxs)("div",{className:"home",children:[Object(n.jsx)(D,{}),Object(n.jsx)("img",{className:"img-fluid",src:Y,alt:"icon"}),Object(n.jsx)("div",{className:"container-fluid",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-12",children:Object(n.jsxs)("div",{className:"headersection",children:[Object(n.jsx)("h2",{className:"headersection__title",children:"Tr\xf2 ch\u01a1i h\xe0ng \u0111\u1ea7u"}),Object(n.jsxs)(l.b,{className:"headersection__detail",to:"/game/602e1eeeb712f341b73cb891",children:["Xem t\u1ea5t c\u1ea3",Object(n.jsx)("img",{className:"headersection__img",src:Z,alt:"icon"})]})]})}),Object(n.jsx)("div",{className:"col-12",children:Object(n.jsx)(ne,{})}),Object(n.jsxs)("div",{className:"col-12 row",children:[Object(n.jsx)("div",{className:"col-12",children:Object(n.jsxs)("div",{className:"headersection",children:[Object(n.jsx)("h2",{className:"headersection__title",children:"Li\xean minh huy\u1ec1n tho\u1ea1i"}),Object(n.jsxs)(l.b,{className:"headersection__detail",to:"/game/602e1eeeb712f341b73cb891",children:["Xem t\u1ea5t c\u1ea3",Object(n.jsx)("img",{className:"headersection__img",src:Z,alt:"icon"})]})]})}),c.length>0&&c.slice(0,4).map((function(e){return Object(n.jsx)("div",{className:"col-12 col-md-6 col-lg-4 col-xl-3",children:Object(n.jsx)(X,{title:e.title,viewer:e.viewer,user:e.id_user,stream_key:e.stream_key,thumbnail:e.thumbnail})})}))]}),Object(n.jsxs)("div",{className:"col-12 row",children:[Object(n.jsx)("div",{className:"col-12",children:Object(n.jsxs)("div",{className:"headersection",children:[Object(n.jsx)("h2",{className:"headersection__title",children:"PUBG"}),Object(n.jsxs)(l.b,{className:"headersection__detail",to:"/game/602e1eeeb712f341b73cb88e",children:["Xem t\u1ea5t c\u1ea3",Object(n.jsx)("img",{className:"headersection__img",src:Z,alt:"icon"})]})]})}),o.length>0&&o.slice(0,4).map((function(e){return Object(n.jsx)("div",{className:"col-12 col-md-6 col-lg-4 col-xl-3",children:Object(n.jsx)(X,{title:e.title,viewer:e.viewer,user:e.id_user,stream_key:e.stream_key,thumbnail:e.thumbnail})})}))]})]})}),Object(n.jsx)(w,{})]})}),ae={get:function(){return x.get("/live")},getLiveByStreamKey:function(e){var t="/live/".concat(e);return x.get(t)}},ie=(c(182),function(){var e=Object(s.useState)([]),t=Object(u.a)(e,2),c=t[0],i=t[1],r=Object(s.useState)([]),o=Object(u.a)(r,2),l=o[0],j=o[1],b=Object(s.useState)([]),m=Object(u.a)(b,2),d=m[0],h=m[1];return Object(s.useEffect)((function(){O()({url:"http://localhost:8888/api/streams"}).then((function(e){return e&&e.data&&i(Object.keys(e.data.live)),e})).catch((function(e){return console.log(e)}))}),[]),Object(s.useEffect)((function(){ae.get().then((function(e){j(e)})).catch((function(e){return console.log(e)}))}),[]),Object(s.useEffect)((function(){if(c.length>0&&l.length>0){var e=l.filter((function(e){return!0===e.status})).map((function(e){if(c.includes(e.stream_key))return e})).filter((function(e){return void 0!==e}));h(e)}}),[c,l]),Object(n.jsxs)(a.a.Fragment,{children:[Object(n.jsx)(D,{}),Object(n.jsx)("div",{className:"live pt-3 container-fluid",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-12 m-0 p-4",children:Object(n.jsx)("h2",{className:"text",children:"\u0110ang live"})}),d.length>0&&d.map((function(e){return Object(n.jsx)("div",{className:"col-12 col-md-6 col-lg-4 col-xl-3",children:Object(n.jsx)(X,{title:e.title,viewer:e.viewer,user:e.id_user,stream_key:e.stream_key,thumbnail:e.thumbnail})})}))]})}),Object(n.jsx)(w,{})]})}),re={getUser:function(e){if(e!=={}){return x.post("/login",e)}}},oe=c(101),le=c.n(oe),je=c(102),ue={addUser:function(e){if(e!=={}){var t="/loginfb/".concat(e);return x.get(t)}}},be={addUser:function(e){if(e!=={}){return x.post("/facebook",e)}}},me=(c(184),function(e){var t=Object(s.useState)(""),c=Object(u.a)(t,2),a=c[0],i=c[1],r=Object(s.useState)(""),o=Object(u.a)(r,2),j=o[0],b=o[1],m=Object(s.useState)(""),d=Object(u.a)(m,2),h=d[0],O=d[1],f=Object(s.useState)(""),x=Object(u.a)(f,2),g=x[0],p=x[1],v=Object(s.useState)(""),N=Object(u.a)(v,2),_=(N[0],N[1]),y=e.handle,k=e.type;return Object(n.jsxs)("div",{className:"formlogin",children:[Object(n.jsxs)("div",{className:"header p-0",children:[Object(n.jsx)(B,{component:"#"}),Object(n.jsx)(l.b,{className:"hover",to:"/login",children:"\u0110\u0103ng nh\u1eadp"}),Object(n.jsx)(l.b,{className:"hover",to:"/register",children:"\u0110\u0103ng k\xed"})]}),Object(n.jsxs)("div",{className:"main",children:[Object(n.jsxs)("form",{className:"content",onSubmit:function(e){e.preventDefault(),""!==a&&""!==j&&y({username:h,email:a,password:j,phone:g}),O(""),i(""),b(""),p("")},children:["register"===k&&Object(n.jsx)("input",{type:"text",maxLength:"30",className:"content__repass",value:h,onChange:function(e){O(e.target.value)},placeholder:"T\xean \u0111\u0103ng k\xed",pattern:"^[a-zA-Z0-9]{4,10}$"}),"register"===k&&Object(n.jsx)(je.Textbox,{className:"content__repass",value:g,onChange:function(e){return p(e)},attributesInput:{type:"text",placeholder:"\u0110i\u1ec7n tho\u1ea1i",maxLength:"10"},validationOption:{type:"number",reg:/[0-9]/,required:!0,regMsg:"Ph\u1ea3i l\xe0 s\u1ed1  kh\xf4ng c\xf3 ch\u1eef v\xe0 k\xed t\u1ef1 \u0111\u1eb7c bi\u1ec7t"}}),Object(n.jsx)("input",{type:"email",maxLength:"30",className:"content__username",placeholder:"Email",value:a,onChange:function(e){i(e.target.value)}}),Object(n.jsx)("input",{type:"password",maxLength:"30",className:"content__password",placeholder:"M\u1eadt kh\u1ea9u",value:j,onChange:function(e){b(e.target.value)}}),Object(n.jsx)("button",{className:"btn btn-block",children:"register"===k?"\u0110\u0103ng k\xed":"\u0110\u0103ng nh\u1eadp"})]}),"login"===k&&Object(n.jsx)("div",{className:"login",children:Object(n.jsx)(le.a,{appId:"278782940405979",autoLoad:!1,fields:"name,email,picture",scope:"public_profile, email",callback:function(e){be.addUser(e).then((function(t){_(e),ue.addUser(e.email).then((function(e){return console.log(e)}))})).catch((function(e){return console.log(e)}))},icon:"fa-facebook"})})]})]})}),de=c(32),he=function(){var e=Object(s.useState)(!1),t=Object(u.a)(e,2),c=t[0],a=t[1],i=Object(s.useState)(""),r=Object(u.a)(i,2),o=r[0],l=r[1];return Object(n.jsxs)(s.Fragment,{children:[""!==o&&Object(n.jsx)(de.a,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(n.jsx)(me,{type:"login",handle:function(e){re.getUser(e).then((function(e){l(e.mess),a(e.isAuth),localStorage.setItem("user",JSON.stringify(e.user)),e.isAuth?de.b.dark("\ud83c\udf89\ud83c\udf89\ud83c\udf89 ".concat(e.mess),{position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,onClose:function(){return window.location.href="/"}}):de.b.error("\ud83d\udc4c\ud83d\udc4c\ud83d\udc4c ".concat(e.mess),{position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})})).catch((function(e){return console.log(e)}))},status:c,mess:o})]})},Oe={addUser:function(e){if(e!=={}){return x.post("/register",e)}}},fe=function(){var e=Object(s.useState)(""),t=Object(u.a)(e,2),c=t[0],a=t[1];return Object(n.jsxs)(s.Fragment,{children:[""!==c&&Object(n.jsx)(de.a,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(n.jsx)(me,{type:"register",mess:c,handle:function(e){Oe.addUser(e).then((function(e){console.log(e),a(e.mess),e.status?de.b.dark("\ud83c\udf89\ud83c\udf89\ud83c\udf89 ".concat(e.mess),{position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,onClose:function(){window.location.href="/login"}}):de.b.error("\ud83c\udf89\ud83c\udf89\ud83c\udf89 ".concat(e.mess),{position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})})).catch((function(e){return console.log(e)}))}})]})},xe=c(36),ge=c(37),pe=c(40),ve=c(39),Ne=c(117),_e={getUserByStream:function(e){if(e!=={}){var t="/user/".concat(e);return x.get(t)}},getUserById:function(e){if(e!=={}){var t="/userdetail/".concat(e);return x.get(t)}}},ye=c(116),ke=(c(207),c(108)),we={get:function(e){if(e!=={}){var t="/comment/".concat(e);return x.get(t)}}},Ce={postComment:function(e){if(e!=={}){return x.post("/comment",e)}}},Se=c.p+"static/media/emoticons.c907bcd3.svg",Le=c(109),Fe=c.n(Le),Ge=(c(209),function(e){var t=e.content,c=e.username,s=e.time;return Object(n.jsxs)("li",{className:"commentitem col-12",children:[Object(n.jsxs)("p",{children:[c," ",Object(n.jsx)("span",{children:Fe()(s).fromNow()})]}),Object(n.jsx)("p",{children:t})]})}),Be=(c(210),function(e){var t=Object(s.useContext)(U),c=Object(u.a)(t.auth,2),a=c[0],i=c[1],r=Object(s.useState)([]),o=Object(u.a)(r,2),l=o[0],j=o[1],b=Object(s.useRef)(null),m=Object(s.useRef)(null);return Object(s.useEffect)((function(){we.get(e.stream_key).then((function(e){j(e)})).catch((function(e){return console.log(e)}))})),Object(n.jsxs)("div",{className:"comment",children:[Object(n.jsx)("ul",{className:"comment__body row w-100",children:Object(n.jsx)(ke.a,{children:l.map((function(e){return Object(n.jsx)(Ge,{username:e.isAuth.username,content:e.content,time:e.createdAt},e._id)}))})}),Object(n.jsxs)("div",{className:"comment__send",children:[Object(n.jsx)("input",{className:"comment__text",type:"text",ref:b}),Object(n.jsxs)("div",{className:"d-flex flex-column justify-content-center align-items-center",children:[Object(n.jsx)("label",{className:"btn",htmlFor:"hidden",children:Object(n.jsx)("img",{src:Se})}),Object(n.jsx)("input",{type:"checkbox",id:"hidden",ref:m,onChange:function(){document.getElementsByClassName("emoji-mart")[0].style.display=m.current.checked?"block":"none"},className:"hidden"}),Object(n.jsx)(p,{content:"Send",className:"comment__submit",click:function(){var t=(new Date).toDateString(),c=b.current.value;null===a&&i(JSON.parse(localStorage.getItem("user"))),Ce.postComment({isAuth:a,content:c,createdAt:t,stream_key:e.stream_key}).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)})),b.current.value=""}}),Object(n.jsx)(ye.a,{onClick:function(e){b.current.value+=e.native},set:"facebook",theme:"dark",style:{position:"absolute",bottom:"100%",right:"0",display:"none"}})]})]})]})}),Ee=c(246),Te=c(250),Pe=function(e){var t=e.id,c=Object(s.useState)({}),a=Object(u.a)(c,2),i=a[0],r=a[1];return Object(s.useEffect)((function(){ae.getLiveByStreamKey(t).then((function(e){return r(e)})).catch((function(e){return console.log(e)}))})),Object(n.jsxs)("div",{className:"sub-video",children:[Object(n.jsxs)("div",{className:"flex-column",children:[Object(n.jsxs)("div",{className:"d-flex",children:[Object(n.jsx)("span",{children:"Ch\u1ee7 \u0111\u1ec1 h\xf4m nay: "}),Object(n.jsx)("p",{children:i.title})]}),Object(n.jsxs)("div",{className:"d-flex",children:[Object(n.jsx)("span",{children:"S\u1ed1 ng\u01b0\u1eddi c\xf9ng \u0111ang xem: "}),Object(n.jsx)("p",{children:i.viewer})]})]}),void 0!==i.id_user&&Object(n.jsx)("div",{className:"share",children:Object(n.jsx)(Ee.a,{quote:"V\xe0o xem streamer ".concat(i.id_user.username," c\xf9ng m\xecnh n\xe0o!!!"),url:"".concat(window.location.protocol,"//172.0.0.1").concat(window.location.pathname),children:Object(n.jsx)(Te.a,{size:40,round:!0})})})]})},Ue=c(110),Ie=c.n(Ue),Me=(c(211),function(e){Object(pe.a)(c,e);var t=Object(ve.a)(c);function c(e){var n;return Object(xe.a)(this,c),(n=t.call(this,e)).state={stream:!1,videoJsOptions:null},n}return Object(ge.a)(c,[{key:"componentDidMount",value:function(){var e=this;_e.getUserByStream(this.props.match.params.id).then((function(t){e.setState({stream:!0,videoJsOptions:{autoplay:!1,controls:!0,sources:[{src:"http://localhost:"+Ie.a.rtmp_server.http.port+"/live/"+t.stream_key+"/index.m3u8",type:"application/x-mpegURL"}],fluid:!0}},(function(){e.player=Object(Ne.a)(e.videoNode,e.state.videoJsOptions)}))}))}},{key:"componentWillUnmount",value:function(){this.player&&this.player.dispose()}},{key:"render",value:function(){var e=this;return Object(n.jsxs)(s.Fragment,{children:[Object(n.jsx)(D,{}),Object(n.jsxs)("div",{className:"row w-100 m-auto",children:[Object(n.jsx)("div",{className:"col-12 p-0",children:Object(n.jsx)(Pe,{id:this.props.match.params.id})}),Object(n.jsx)("div",{className:"col-12 col-md-12 col-lg-8 col-xl-10 p-0",children:this.state.stream?Object(n.jsx)("div",{"data-vjs-player":!0,children:Object(n.jsx)("video",{ref:function(t){return e.videoNode=t},className:"video-js vjs-big-play-centered"})}):" Loading ... "}),Object(n.jsx)("div",{className:"col-12 col-md-12 col-lg-4 col-xl-2 p-0",children:Object(n.jsx)(Be,{stream_key:this.props.match.params.id})})]}),Object(n.jsx)(w,{})]})}}]),c}(a.a.Component)),Je=c(41),Ae=c(111),Ve=c.n(Ae),ze=function(e){Object(pe.a)(c,e);var t=Object(ve.a)(c);function c(e){var n;Object(xe.a)(this,c);var s=(n=t.call(this,e)).props.src;return n.state={preview:null,src:s},n.onCrop=n.onCrop.bind(Object(Je.a)(n)),n.onClose=n.onClose.bind(Object(Je.a)(n)),n.onBeforeFileLoad=n.onBeforeFileLoad.bind(Object(Je.a)(n)),n}return Object(ge.a)(c,[{key:"onClose",value:function(){this.setState({preview:null}),this.props.seturl({preview:null})}},{key:"onCrop",value:function(e){this.setState({preview:e}),this.props.seturl({preview:e})}},{key:"onBeforeFileLoad",value:function(e){e.target.files[0].size>71680&&(alert("File is too big!"),e.target.value="")}},{key:"render",value:function(){return Object(n.jsxs)("div",{className:"uploadavt",children:[Object(n.jsx)(Ve.a,{width:390,height:295,onCrop:this.onCrop,onClose:this.onClose,onBeforeFileLoad:this.onBeforeFileLoad,src:this.state.src}),Object(n.jsx)("img",{src:this.state.preview,alt:"Preview"})]})}}]),c}(s.Component),De=c.p+"static/media/check.ea4f0b17.svg",He=c.p+"static/media/back.698b3f02.svg",Re=(c(212),{post:function(e,t){if(e!=={}){var c="/updateuser/".concat(t);return x.post(c,e)}}}),Ke=function(){var e=Object(j.f)().id,t=Object(s.useState)(null),c=Object(u.a)(t,2),a=c[0],i=c[1],r=JSON.parse(localStorage.getItem("user")),o=Object(s.useState)(""),l=Object(u.a)(o,2),b=l[0],m=l[1],d=Object(s.useState)(""),h=Object(u.a)(d,2),O=h[0],f=h[1],x=Object(s.useState)(null),g=Object(u.a)(x,2),v=g[0],N=g[1];null===r&&(window.location.href="/login"),Object(s.useEffect)((function(){_e.getUserById(e).then((function(e){i(e),m(e.username),f(e.phone)})).catch((function(e){return console.log(e)}))}),[e]);return Object(n.jsxs)(s.Fragment,{children:[Object(n.jsx)(D,{}),Object(n.jsx)("div",{className:"container-fluid",children:Object(n.jsx)("div",{className:"row user",children:Object(n.jsx)("div",{className:"col-12",children:a&&Object(n.jsxs)("ul",{className:"updateuser",children:[Object(n.jsx)("li",{children:Object(n.jsx)(ze,{src:r.avt,seturl:N})}),Object(n.jsxs)("li",{className:"d-flex flex-column flex-md-row",children:[Object(n.jsx)("span",{children:"T\xean ng\u01b0\u1eddi d\xf9ng"}),Object(n.jsx)("input",{type:"text",value:b,onChange:function(e){return m(e.target.value)}})]}),Object(n.jsxs)("li",{className:"d-flex flex-column flex-md-row",children:[Object(n.jsx)("span",{children:"\u0110i\u1ec7n tho\u1ea1i"}),Object(n.jsx)("input",{type:"text",value:O,onChange:function(e){return f(e.target.value)}})]}),Object(n.jsx)("li",{className:"d-flex",children:Object(n.jsx)(p,{content:"\u0110\u1ed3ng \xfd t\u1ea5t c\u1ea3 c\xe1c thay \u0111\u1ed5i tr\xean",icon:De,click:function(){if(null===v.preview)return alert("Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 h\xecnh \u1ea3nh \u0111\u1ea1i di\u1ec7n tr\u1ed1ng");Re.post({name:b,phone:O,avt:v.preview},e)}})}),Object(n.jsx)("li",{className:"d-flex",children:Object(n.jsx)(M,{content:"Quay l\u1ea1i",component:"/user/".concat(e),icon:He})})]})})})}),Object(n.jsx)(w,{})]})},qe=c(249),Qe=c(247),Xe=c(248),We=c(245),Ye={post:function(e,t){if(e!=={}&&void 0!==t){var c="/newstream/".concat(t);return x.post(c,e)}}},Ze={postStream:function(e,t){if(e!=={}){var c="/playstream/".concat(t);return x.post(c,e)}}},$e=c.p+"static/media/play.43412a97.svg",et=c.p+"static/media/stop.66e1b1ba.svg",tt=c.p+"static/media/pencil.aeeb6937.svg",ct=(c(213),c(112)),nt=c.n(ct),st=function(e){Object(pe.a)(c,e);var t=Object(ve.a)(c);function c(e){var n;return Object(xe.a)(this,c),(n=t.call(this,e)).state={files:[]},n}return Object(ge.a)(c,[{key:"getFiles",value:function(e){if(e.file.size>3e5)return alert("File is too big!");this.setState({files:e}),this.props.seturl(this.state.files)}},{key:"render",value:function(){return Object(n.jsxs)(s.Fragment,{children:[Object(n.jsx)(nt.a,{multiple:!1,onDone:this.getFiles.bind(this)}),this.state.files!=={}&&Object(n.jsx)("img",{src:this.state.files.base64})]})}}]),c}(a.a.Component),at=c(113),it=c.n(at),rt=function(){var e=Object(j.f)().id,t=Object(s.useState)(null),c=Object(u.a)(t,2),i=c[0],r=c[1],o=Object(s.useState)([]),l=Object(u.a)(o,2),b=l[0],m=l[1],d=JSON.parse(localStorage.getItem("user")),h=Object(s.useState)(!1),O=Object(u.a)(h,2),f=O[0],x=O[1],v=Object(s.useState)(!1),N=Object(u.a)(v,2),_=N[0],y=N[1],k=Object(s.useState)("Game PC"),C=Object(u.a)(k,2),S=C[0],L=C[1],F=Object(s.useState)("Game Moblie"),G=Object(u.a)(F,2),B=G[0],E=G[1],T=Object(s.useState)(""),P=Object(u.a)(T,2),U=P[0],I=P[1],J=Object(s.useState)(!1),A=Object(u.a)(J,2),V=A[0],z=A[1],H=Object(s.useState)(""),R=Object(u.a)(H,2),K=R[0],q=R[1],Q=Object(s.useState)(it.a.generate()),X=Object(u.a)(Q,2),W=X[0];X[1];null===d&&(window.location.href="/login");var Y=function(e){L(e.target.innerHTML),E("Game Moblie")},Z=function(e){E(e.target.innerHTML),L("Game PC")};return Object(s.useEffect)((function(){_e.getUserById(e).then((function(e){r(e)})).catch((function(e){return console.log(e)}))}),[e]),Object(s.useEffect)((function(){g.getGame({type:""}).then((function(e){return m(e)})).catch((function(e){return console.log(e)}))}),[]),Object(s.useEffect)((function(){Ye.post({auth:d},d.stream_key).then((function(e){return z(e.status)})).catch((function(e){return console.log(e)}))}),[]),Object(n.jsxs)(s.Fragment,{children:[Object(n.jsx)(D,{}),null!==i&&b.length>0&&Object(n.jsx)("div",{className:"user row m-0",children:Object(n.jsxs)("ul",{className:"col-12",children:[Object(n.jsx)("li",{children:Object(n.jsx)("img",{src:i.avt,alt:"img"})}),Object(n.jsxs)("li",{children:["T\xean ng\u01b0\u1eddi d\xf9ng: ",Object(n.jsx)("span",{children:i.username})]}),Object(n.jsxs)("li",{children:["\u0110i\u1ec7n tho\u1ea1i: ",Object(n.jsx)("span",{children:i.phone})]}),V&&Object(n.jsx)("li",{children:Object(n.jsx)(p,{content:"D\u1eebng stream ngay!",icon:et,click:function(){z(!V),Ze.postStream({id_game:0,title:"",status:!1},e)}})}),!V&&Object(n.jsxs)(a.a.Fragment,{children:[Object(n.jsxs)("li",{children:["B\u1ea1n c\xf3 th\u1ec3 b\u1eaft \u0111\u1ea7u live \u1edf \u0111\xe2y"," ",Object(n.jsx)("span",{children:"rtmp://127.0.0.1:1935/live"})]}),Object(n.jsxs)("li",{children:["Stream key c\u1ee7a b\u1ea1n l\xe0: ",Object(n.jsx)("span",{children:W})]}),Object(n.jsxs)("li",{children:["N\xf3i v\u1ec1 bu\u1ed5i stream c\u1ee7a b\u1ea1n",Object(n.jsx)("input",{type:"text",maxLength:"100",value:U,placeholder:"Chi\u1ebfn LOL th\xf4i anh em ....",onChange:function(e){I(e.target.value)}})]}),Object(n.jsxs)("li",{children:["Ch\u1ecdn m\u1ed9t h\xecnh l\xe0m thumbnail cho bu\u1ed5i stream c\u1ee7a b\u1ea1n",Object(n.jsx)(st,{seturl:q})]}),Object(n.jsx)("li",{children:"Vui l\xf2ng ch\u1ecdn game b\u1ea1n mu\u1ed1n stream"}),Object(n.jsxs)("li",{className:"games",children:[Object(n.jsx)("label",{for:"gamepc",children:"Game PC: "}),Object(n.jsx)("input",{type:"radio",id:"gamepc",name:"game"}),Object(n.jsxs)(qe.a,{className:"gamepc",isOpen:f,toggle:function(){return x(!f)},children:[Object(n.jsx)(Qe.a,{caret:!0,children:S}),Object(n.jsx)(Xe.a,{children:b.filter((function(e){return"pc"===e.type})).map((function(e){return Object(n.jsx)(We.a,{onClick:Y,value:e._id,children:e.name},e._id)}))})]}),Object(n.jsx)("label",{for:"gamemoblie",children:"Game Moblie: "}),Object(n.jsx)("input",{type:"radio",id:"gamemoblie",name:"game"}),Object(n.jsxs)(qe.a,{className:"gamemoblie",isOpen:_,toggle:function(){return y(!_)},children:[Object(n.jsx)(Qe.a,{caret:!0,children:B}),Object(n.jsx)(Xe.a,{children:b.filter((function(e){return"pc"!==e.type})).map((function(e){return Object(n.jsx)(We.a,{onClick:Z,value:e._id,children:e.name},e._id)}))})]})]}),Object(n.jsx)("li",{children:Object(n.jsx)(p,{content:"B\u1eaft \u0111\u1ea7u stream ngay th\xf4i",icon:$e,click:function(){if("Game PC"===S&&"Game Moblie"===B)return alert("Vui l\xf2ng ch\u1ecdn game");if(""===K)return alert("Vui l\xf2ng ch\u1ecdn thumbnail");if("Game PC"===S&&"Game Moblie"!==B){z(!V);var t=b.find((function(e){return e.name===B}))._id;Ze.postStream({id_game:t,title:U,status:!0,thumbnail:K.base64,stream_key:W},e),E("Game Moblie")}else{z(!V);var c=b.find((function(e){return e.name===S}))._id;Ze.postStream({id_game:c,title:U,status:!0,thumbnail:K.base64,stream_key:W},e),L("Game PC")}I("")}})}),Object(n.jsx)("li",{className:"d-flex",children:Object(n.jsx)(M,{component:"/updateuser/".concat(e),icon:tt,content:"S\u1eeda th\xf4ng tin c\xe1 nh\xe2n"})})]})]})}),Object(n.jsx)(w,{})]})};c(236);function ot(){return Object(n.jsx)(l.a,{children:Object(n.jsxs)(j.c,{children:[Object(n.jsx)(j.a,{path:"/user/:id",children:Object(n.jsx)(rt,{})}),Object(n.jsx)(j.a,{path:"/stream/:id",render:function(e){return Object(n.jsx)(Me,Object(o.a)({},e))}}),Object(n.jsx)(j.a,{path:"/login",children:Object(n.jsx)(he,{})}),Object(n.jsx)(j.a,{path:"/register",children:Object(n.jsx)(fe,{})}),Object(n.jsx)(j.a,{path:"/game",exact:!0,children:Object(n.jsx)(H,{})}),Object(n.jsx)(j.a,{path:"/game/:id",exact:!0,children:Object(n.jsx)(W,{})}),Object(n.jsx)(j.a,{path:"/updateuser/:id",exact:!0,children:Object(n.jsx)(Ke,{})}),Object(n.jsx)(j.a,{path:"/live",children:Object(n.jsx)(ie,{})}),Object(n.jsx)(j.a,{path:"/",children:Object(n.jsx)(se,{})})]})})}r.a.render(Object(n.jsx)(I,{children:Object(n.jsx)(ot,{})}),document.getElementById("root"))}},[[237,1,2]]]);
//# sourceMappingURL=main.38f7d451.chunk.js.map